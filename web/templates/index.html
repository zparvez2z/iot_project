<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Temperature</title>
  <style>
    html {
      font-family: Helvetica;
      display: inline-block;
      margin: 0px auto;
      text-align: center;
    }

    body {
      margin-top: 50px;
    }

    h1 {
      color: #444444;
      margin: 50px auto 30px;
    }

    h3 {
      color: #444444;
      margin-bottom: 50px;
    }

    p {
      font-size: 14px;
      color: #888;
      margin-bottom: 10px;
    }
  </style>
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body>
  <h1>Temperature Server</h1>
  <h3><span id=temp>?</span></h3>
  <p><a href="/get_last_records">Last 10 temperature reading</a></p>
  <script type=text/javascript>

    setInterval(function update_values() {
      $SCRIPT_ROOT = {{ request.script_root | tojson | safe }};
    $.getJSON($SCRIPT_ROOT + "/get_last_temp",
      function (data) {
        $("#temp").text(data.temperature)
      });  
}, 2000);

  </script>
</body>

</html>